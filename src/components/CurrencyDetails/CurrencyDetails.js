import React from "react";
import { connect } from "react-redux";
import Paper from "@material-ui/core/Paper";
import useSharedStyles from "styles/sharedStyles";
import withLoading from "hoc/withLoading";
import Grid from '@material-ui/core/Grid';
import amountPipe from 'pipes/amountPipe';
import propTypes from 'prop-types';
import CurrencyTrendChart from 'components/CurrencyTrendChart/CurrencyTrendChart';
import moment from 'moment';
import ratesTrendPipe from 'pipes/ratesTrendPipe';

export function CurrencyDetails(props) {  
  console.log(props.targetCurrency)
  var data = {"rates":{"2019-02-05":{"PLN":4.2872},"2019-06-28":{"PLN":4.2496},"2019-07-15":{"PLN":4.2622},"2019-01-30":{"PLN":4.2905},"2019-09-23":{"PLN":4.382},"2019-02-11":{"PLN":4.3158},"2019-04-03":{"PLN":4.293},"2019-01-10":{"PLN":4.2959},"2019-04-09":{"PLN":4.287},"2019-03-01":{"PLN":4.3096},"2019-09-20":{"PLN":4.3575},"2019-04-10":{"PLN":4.2833},"2019-06-04":{"PLN":4.2802},"2019-08-08":{"PLN":4.3227},"2019-03-29":{"PLN":4.3006},"2019-03-18":{"PLN":4.2979},"2019-05-15":{"PLN":4.3094},"2019-09-25":{"PLN":4.3915},"2019-07-18":{"PLN":4.2596},"2019-02-20":{"PLN":4.3445},"2019-05-30":{"PLN":4.2887},"2019-05-31":{"PLN":4.2843},"2019-01-04":{"PLN":4.2957},"2019-08-02":{"PLN":4.3014},"2019-06-13":{"PLN":4.2574},"2019-03-08":{"PLN":4.3002},"2019-09-17":{"PLN":4.3416},"2019-02-18":{"PLN":4.3292},"2019-02-22":{"PLN":4.337},"2019-04-15":{"PLN":4.2742},"2019-04-30":{"PLN":4.2868},"2019-05-06":{"PLN":4.2832},"2019-08-29":{"PLN":4.3809},"2019-05-28":{"PLN":4.2951},"2019-07-10":{"PLN":4.2738},"2019-02-01":{"PLN":4.2739},"2019-07-04":{"PLN":4.2439},"2019-03-20":{"PLN":4.2834},"2019-07-17":{"PLN":4.2641},"2019-07-29":{"PLN":4.2806},"2019-09-18":{"PLN":4.337},"2019-09-24":{"PLN":4.3813},"2019-06-05":{"PLN":4.2778},"2019-04-25":{"PLN":4.295},"2019-06-03":{"PLN":4.2833},"2019-02-28":{"PLN":4.3089},"2019-03-21":{"PLN":4.2807},"2019-01-09":{"PLN":4.2968},"2019-04-04":{"PLN":4.2892},"2019-04-02":{"PLN":4.2953},"2019-07-09":{"PLN":4.263},"2019-03-26":{"PLN":4.2934},"2019-01-16":{"PLN":4.2877},"2019-05-22":{"PLN":4.3038},"2019-06-21":{"PLN":4.2584},"2019-02-26":{"PLN":4.3282},"2019-02-27":{"PLN":4.3146},"2019-01-28":{"PLN":4.2861},"2019-02-15":{"PLN":4.3307},"2019-01-22":{"PLN":4.2827},"2019-06-11":{"PLN":4.2678},"2019-03-13":{"PLN":4.2993},"2019-08-09":{"PLN":4.3191},"2019-08-23":{"PLN":4.355},"2019-03-06":{"PLN":4.2996},"2019-08-20":{"PLN":4.3552},"2019-03-04":{"PLN":4.2989},"2019-07-11":{"PLN":4.2681},"2019-09-04":{"PLN":4.3395},"2019-06-27":{"PLN":4.2515},"2019-05-20":{"PLN":4.2968},"2019-09-12":{"PLN":4.3304},"2019-08-19":{"PLN":4.3702},"2019-05-17":{"PLN":4.3031},"2019-05-09":{"PLN":4.2934},"2019-10-01":{"PLN":4.3774},"2019-04-01":{"PLN":4.299},"2019-07-19":{"PLN":4.2571},"2019-08-12":{"PLN":4.3275},"2019-04-16":{"PLN":4.2744},"2019-01-25":{"PLN":4.291},"2019-04-12":{"PLN":4.2796},"2019-08-22":{"PLN":4.3643},"2019-08-06":{"PLN":4.3119},"2019-07-05":{"PLN":4.2449},"2019-06-26":{"PLN":4.2627},"2019-09-16":{"PLN":4.3241},"2019-03-25":{"PLN":4.2953},"2019-02-07":{"PLN":4.3022},"2019-08-14":{"PLN":4.372},"2019-04-08":{"PLN":4.2887},"2019-05-13":{"PLN":4.3048},"2019-04-18":{"PLN":4.2786},"2019-05-24":{"PLN":4.2974},"2019-05-16":{"PLN":4.2962},"2019-09-26":{"PLN":4.3871},"2019-06-20":{"PLN":4.2556},"2019-07-01":{"PLN":4.2427},"2019-03-27":{"PLN":4.2936},"2019-07-30":{"PLN":4.2912},"2019-04-26":{"PLN":4.2878},"2019-09-27":{"PLN":4.3865},"2019-01-15":{"PLN":4.293},"2019-02-06":{"PLN":4.2923},"2019-04-05":{"PLN":4.2897},"2019-01-14":{"PLN":4.2925},"2019-09-06":{"PLN":4.3394},"2019-08-16":{"PLN":4.3381},"2019-07-25":{"PLN":4.2472},"2019-06-14":{"PLN":4.2534},"2019-07-12":{"PLN":4.2675},"2019-02-25":{"PLN":4.336},"2019-01-08":{"PLN":4.3055},"2019-03-05":{"PLN":4.3016},"2019-06-18":{"PLN":4.2592},"2019-01-21":{"PLN":4.2911},"2019-04-23":{"PLN":4.2864},"2019-03-14":{"PLN":4.3032},"2019-07-24":{"PLN":4.2547},"2019-01-24":{"PLN":4.2881},"2019-01-11":{"PLN":4.2973},"2019-06-19":{"PLN":4.267},"2019-02-21":{"PLN":4.3346},"2019-05-23":{"PLN":4.3064},"2019-08-05":{"PLN":4.3142},"2019-06-17":{"PLN":4.2605},"2019-03-15":{"PLN":4.3049},"2019-01-02":{"PLN":4.2964},"2019-08-28":{"PLN":4.3874},"2019-07-23":{"PLN":4.2497},"2019-03-28":{"PLN":4.295},"2019-09-30":{"PLN":4.3782},"2019-07-31":{"PLN":4.2912},"2019-06-24":{"PLN":4.2545},"2019-09-11":{"PLN":4.3335},"2019-01-18":{"PLN":4.2931},"2019-04-11":{"PLN":4.283},"2019-07-22":{"PLN":4.248},"2019-08-15":{"PLN":4.3878},"2019-05-03":{"PLN":4.2853},"2019-05-21":{"PLN":4.306},"2019-09-10":{"PLN":4.3339},"2019-06-10":{"PLN":4.2639},"2019-05-27":{"PLN":4.2935},"2019-05-08":{"PLN":4.2912},"2019-06-25":{"PLN":4.2563},"2019-09-19":{"PLN":4.3386},"2019-08-21":{"PLN":4.3529},"2019-01-31":{"PLN":4.2736},"2019-04-17":{"PLN":4.2731},"2019-05-07":{"PLN":4.2862},"2019-06-06":{"PLN":4.2788},"2019-07-03":{"PLN":4.2428},"2019-08-30":{"PLN":4.3812},"2019-02-13":{"PLN":4.3285},"2019-07-02":{"PLN":4.2429},"2019-06-12":{"PLN":4.2608},"2019-09-09":{"PLN":4.3335},"2019-06-07":{"PLN":4.2714},"2019-02-12":{"PLN":4.3259},"2019-05-14":{"PLN":4.3061},"2019-08-26":{"PLN":4.3622},"2019-01-07":{"PLN":4.2908},"2019-02-04":{"PLN":4.2816},"2019-08-13":{"PLN":4.3372},"2019-09-02":{"PLN":4.3691},"2019-02-19":{"PLN":4.3347},"2019-05-10":{"PLN":4.296},"2019-04-24":{"PLN":4.2896},"2019-03-19":{"PLN":4.2879},"2019-01-23":{"PLN":4.2887},"2019-08-01":{"PLN":4.2979},"2019-08-27":{"PLN":4.3696},"2019-02-14":{"PLN":4.3382},"2019-04-29":{"PLN":4.2944},"2019-09-03":{"PLN":4.3663},"2019-01-29":{"PLN":4.2976},"2019-01-03":{"PLN":4.2975},"2019-02-08":{"PLN":4.3064},"2019-08-07":{"PLN":4.3174},"2019-07-26":{"PLN":4.267},"2019-01-17":{"PLN":4.2835},"2019-03-22":{"PLN":4.2913},"2019-09-05":{"PLN":4.3399},"2019-03-12":{"PLN":4.2994},"2019-05-02":{"PLN":4.28},"2019-07-08":{"PLN":4.253},"2019-07-16":{"PLN":4.2555},"2019-03-07":{"PLN":4.2991},"2019-03-11":{"PLN":4.2994},"2019-05-29":{"PLN":4.2998},"2019-09-13":{"PLN":4.3248}},"start_at":"2019-01-01","base":"EUR","end_at":"2019-10-01"}
  const sharedStyles = useSharedStyles();
  const targetCurrency = props.targetCurrency;
  const dataForChart = ratesTrendPipe(data.rates);
  const CurrencyTrendChartWithLoading = withLoading(CurrencyTrendChart);
  return (
    <Paper className={[sharedStyles.paper, sharedStyles.lightBlue].join(" ")}>
<h2>Currency trend: EUR - {targetCurrency}</h2>
        <CurrencyTrendChartWithLoading loading={false}  data={dataForChart} currency={'PLN'}></CurrencyTrendChartWithLoading>
    </Paper>
  );
}

export function mapStateToProps(state) {
  return {
    targetCurrency: state.targetCurrency,
  };
}
export default connect(mapStateToProps)(CurrencyDetails);

